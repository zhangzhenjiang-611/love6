(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-113b5cc6"],{"0539":function(t,a,e){},"1a91":function(t,a,e){},"235e":function(t,a,e){"use strict";var i=e("52b2"),s=e.n(i);s.a},"3f2c":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dashboard-editor-container"},[e("div",{staticClass:"index-item-container"},[t.registrationData.item?e("panel-group",{attrs:{"items-info":t.registrationData}}):t._e(),t._v(" "),t.registrationData.item?e("pie-chart-group",{attrs:{"items-chart":t.registrationData.chart}}):t._e(),t._v(" "),t.registrationData.item?e("line-chart-group",{attrs:{"items-info":t.registrationData}}):t._e()],1),t._v(" "),e("div",{staticClass:"index-item-container"},[t.tradingdata.item?e("panel-group",{attrs:{"items-info":t.tradingdata}}):t._e(),t._v(" "),t.tradingdata.item?e("pie-chart-group",{attrs:{"items-chart":t.tradingdata.chart}}):t._e(),t._v(" "),t.tradingdata.item?e("line-chart-group",{attrs:{"items-info":t.tradingdata}}):t._e()],1),t._v(" "),e("div",{staticClass:"index-item-container"},[t.createData.item?e("panel-group",{attrs:{"items-info":t.createData}}):t._e()],1)])},s=[],n=e("6768"),r=e("70e9"),o=e("a321"),c=e("b775");function l(t){return Object(c["a"])({url:"/manage/Data/businessStatistics",method:"post",data:t})}var d={name:"DashboardAdmin",components:{PanelGroup:n["default"],PieChartGroup:r["default"],LineChartGroup:o["default"]},data:function(){return{registrationData:{title:"挂号",item:null,chart:[]},tradingdata:{title:"交易",item:null,chart:[]},createData:{title:"建卡",item:null}}},mounted:function(){this.onLoad()},methods:{onLoad:function(){var t=this,a={},e=this,i=e.$loading();l(a).then(function(a){e.registrationData.item=a.data.reg,e.tradingdata.item=a.data.trading,e.createData.item={statistics:a.data.create},t.initRegChart(),t.initTradingChart(),i.close()}).catch(function(t){i.close()})},initRegChart:function(){this.registrationData.chart=[{color:["#F1D071","#6999F4"],id:"pieChart1",title:"累计挂号类型占比",series:[{type:"pie",data:[{value:parseFloat(this.registrationData.item.statistics.total_yygh_num),name:"预约挂号"},{value:parseFloat(this.registrationData.item.statistics.total_jrgh_num),name:"今日挂号"}],label:{position:"inner"}}]},{color:["#F1D071","#6999F4"],id:"pieChart2",title:"当日挂号类型占比",series:[{type:"pie",data:[{value:parseFloat(this.registrationData.item.statistics.yygh_num),name:"预约挂号"},{value:parseFloat(this.registrationData.item.statistics.jrgh_num),name:"今日挂号"}],label:{position:"inner"}}]},{color:["#CF8FF8","#9DE5FC"],id:"pieChart3",title:"累计患者类型占比",series:[{type:"pie",data:[{value:parseFloat(this.registrationData.item.statistics.total_yb_num),name:"医保"},{value:parseFloat(this.registrationData.item.statistics.total_zf_num),name:"自费"}],label:{position:"inner"}}]},{color:["#CF8FF8","#9DE5FC"],id:"pieChart4",title:"当日患者类型占比",series:[{type:"pie",data:[{value:parseFloat(this.registrationData.item.statistics.yb_num),name:"医保"},{value:parseFloat(this.registrationData.item.statistics.zf_num),name:"自费"}],label:{position:"inner"}}]}]},initTradingChart:function(){this.tradingdata.chart=[{color:["#CF8FF8","#9DE5FC"],id:"pieChart1",title:"患者交易类型占比",series:[{type:"pie",data:[{value:parseFloat(this.tradingdata.item.ratio.yb_num),name:"医保"},{value:parseFloat(this.tradingdata.item.ratio.zf_num),name:"自费"}],label:{position:"inner"}}]},{color:["#ED7B7C","#8EDBB6"],id:"pieChart2",title:"交易类型数量占比",series:[{type:"pie",data:[{value:parseFloat(this.tradingdata.item.ratio.fee_num),name:"门诊缴费"},{value:parseFloat(this.tradingdata.item.ratio.reg_num),name:"挂号缴费"}],label:{position:"inner"}}]},{color:["#8DA0F8","#9DE5FC","#3C79F6"],id:"pieChart4",title:"支付渠道类型占比",series:[{type:"pie",data:[{value:parseFloat(this.tradingdata.item.ratio.wechat_num),name:"微信"},{value:parseFloat(this.tradingdata.item.ratio.bank_num),name:"银行卡"},{value:parseFloat(this.tradingdata.item.ratio.alipay_num),name:"支付宝"}],label:{position:"inner"}}]}]}}},u=d,m=(e("7a0d"),e("0c7c")),h=Object(m["a"])(u,i,s,!1,null,"8a440776",null);a["default"]=h.exports},5164:function(t,a,e){},"52b2":function(t,a,e){},5851:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dashboard-editor-container"},[e("div",[e("img",{staticClass:"emptyGif",attrs:{src:t.emptyGif}})])])},s=[],n=e("cebc"),r=e("2f62"),o={name:"DashboardEditor",components:{},data:function(){return{emptyGif:"https://wpimg.wallstcn.com/0e03b7da-db9e-4819-ba10-9016ddfdaed3"}},computed:Object(n["a"])({},Object(r["b"])(["name","avatar","roles"]))},c=o,l=(e("6696"),e("0c7c")),d=Object(l["a"])(c,i,s,!1,null,"50a23e61",null);a["default"]=d.exports},"5b0b":function(t,a,e){"use strict";var i=e("ec31"),s=e.n(i);s.a},"611b":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"CardList"},t._l(t.dept,function(a,i){return e("div",{key:a.name,staticClass:"progress-item"},[e("span",[t._v(t._s(a.dept_name))]),t._v(" "),e("el-progress",{attrs:{percentage:parseFloat(a.num||a.fee)/1e3*100,color:t.colorChange(i),"show-text":!1}}),t._v(" "),e("span",{staticClass:"progressText"},[t._v(t._s(a.num||a.fee))])],1)}),0)},s=[],n={props:{dept:{type:Array,default:null}},data:function(){return{}},mounted:function(){},methods:{format:function(t){return t},colorChange:function(t){switch(t){case 0:return"#F34D4E";case 1:return"#408AFF";case 2:return"#FDD843";case 3:return"#25D096";case 4:return"#CF8FF8";default:return"#F34D4E"}}}},r=n,o=(e("9c7d"),e("a841"),e("0c7c")),c=Object(o["a"])(r,i,s,!1,null,"20bdfb2e",null);a["default"]=c.exports},6696:function(t,a,e){"use strict";var i=e("980a"),s=e.n(i);s.a},6768:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.itemsInfo.title?e("div",{staticClass:"PanelGroup"},[e("p",{staticClass:"PanelGroup-title"},[t._v(t._s(t.itemsInfo.title)+"数据")]),t._v(" "),e("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[e("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[e("div",{staticClass:"card-panel"},[e("p",{staticClass:"card-panel-title"},[t._v("累计"+t._s(t.itemsInfo.title)+"数量")]),t._v(" "),e("div",{staticClass:"card-panel-count"},[e("span",[e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":parseFloat(t.itemsInfo.item.statistics.total_num),duration:3600}})],1),t._v("人次\n        ")])])]),t._v(" "),e("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[e("div",{staticClass:"card-panel card-line"},[e("p",{staticClass:"card-panel-title"},[t._v("当日"+t._s(t.itemsInfo.title)+"数量")]),t._v(" "),e("div",{staticClass:"card-panel-count"},[e("span",[e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":parseFloat(t.itemsInfo.item.statistics.num||t.itemsInfo.item.statistics.today_num),duration:3600}})],1),t._v("人次\n        ")]),t._v(" "),e("div",{staticClass:"three-line box-between"},[e("span",[t._v("对比上周同期")]),t._v(" "),e("span",{class:parseInt(t.itemsInfo.item.statistics.today_num_ratio).length>2?"top":"down"},[t._v("\n            "+t._s(parseInt(t.itemsInfo.item.statistics.today_num_ratio).length>2?"↑":"↓")+"\n            "+t._s(t.itemsInfo.item.statistics.today_num_ratio)+"\n          ")])])])]),t._v(" "),e("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[e("div",{staticClass:"card-panel"},[e("p",{staticClass:"card-panel-title"},[t._v("累计"+t._s(t.itemsInfo.title)+"金额")]),t._v(" "),e("div",{staticClass:"card-panel-count"},[e("span",[e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":parseFloat(t.itemsInfo.item.statistics.total_fee),duration:3600}})],1),t._v("人次\n        ")])])]),t._v(" "),e("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[e("div",{staticClass:"card-panel card-line"},[e("p",{staticClass:"card-panel-title"},[t._v("当日"+t._s(t.itemsInfo.title)+"金额")]),t._v(" "),e("div",{staticClass:"card-panel-count"},[e("span",[e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":parseFloat(t.itemsInfo.item.statistics.fee||0),duration:3600}})],1),t._v("人次\n        ")]),t._v(" "),e("div",{staticClass:"three-line box-between"},[e("span",[t._v("对比上周同期")]),t._v(" "),e("span",{class:parseInt(t.itemsInfo.item.statistics.today_num_ratio).length>2?"top":"down"},[t._v("\n            "+t._s(parseInt(t.itemsInfo.item.statistics.today_num_ratio).length>2?"↑":"↓")+"\n            "+t._s(t.itemsInfo.item.statistics.today_fee_ratio)+"\n          ")])])])])],1)],1):t._e()},s=[],n=e("ec1b"),r=e.n(n),o={components:{CountTo:r.a},props:{itemsInfo:{type:Object,default:null}},methods:{}},c=o,l=(e("235e"),e("0c7c")),d=Object(l["a"])(c,i,s,!1,null,"0595ceb4",null);a["default"]=d.exports},"70e9":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pie-chart-container"},[e("el-row",{staticClass:"box-between",attrs:{gutter:20}},t._l(t.itemsChart,function(t){return e("el-col",{key:t.id,attrs:{span:6}},[e("div",{staticClass:"chart-wrapper"},[e("pie-chart",{attrs:{id:t.id,title:t.title,series:t.series,color:t.color}})],1)])}),1)],1)},s=[],n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{class:t.className,staticStyle:{height:"100%",width:"100%"},attrs:{id:t.id}})},r=[],o=e("313e"),c=e.n(o),l=e("f42c");e("817d");var d={mixins:[l["a"]],props:{className:{type:String,default:"chart"},id:{type:String,default:"chart"},title:{type:String,default:"chart"},color:{type:Array,default:function(){return[]}},series:{type:Array,default:function(){return[]}}},data:function(){return{chart:null}},mounted:function(){var t=this;this.$nextTick(function(){t.initChart()})},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=c.a.init(this.$el,"macarons"),this.chart.setOption({title:{text:this.title,bottom:"0%",left:"center",textStyle:{fontSize:14,color:"#333333"}},color:this.color,tooltip:{trigger:"item",formatter:"<br/>{b} : {c} ({d}%)"},series:this.series})}}},u=d,m=e("0c7c"),h=Object(m["a"])(u,n,r,!1,null,null,null),p=h.exports,f={components:{PieChart:p},props:{itemsChart:{type:Array,default:null}},data:function(){return{}},mounted:function(){},methods:{}},v=f,_=(e("5b0b"),Object(m["a"])(v,i,s,!1,null,"4e523516",null));a["default"]=_.exports},"7a0d":function(t,a,e){"use strict";var i=e("c199"),s=e.n(i);s.a},"7c41":function(t,a,e){"use strict";var i=e("5164"),s=e.n(i);s.a},9406:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dashboard-container"},[e(t.currentRole,{tag:"component"})],1)},s=[],n=e("cebc"),r=e("2f62"),o=e("5851"),c=e("3f2c"),l={name:"Dashboard",components:{editorDashboard:o["default"],adminDashboard:c["default"]},data:function(){return{currentRole:"adminDashboard"}},computed:Object(n["a"])({},Object(r["b"])(["roles"])),created:function(){}},d=l,u=e("0c7c"),m=Object(u["a"])(d,i,s,!1,null,null,null);a["default"]=m.exports},"980a":function(t,a,e){},"9c7d":function(t,a,e){"use strict";var i=e("1a91"),s=e.n(i);s.a},a321:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"LineChartGroup"},[e("el-row",{staticClass:"panel-group",attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,sm:24,lg:12,xl:12}},[e("div",{staticClass:"chart-wrapper"},[e("p",{staticClass:"box-between line-warp-title"},[e("span",[t._v("近"+t._s(t.itemsInfo.item.eight.length)+"天挂号量统计")])]),t._v(" "),e("line-chart",{attrs:{"chart-data":t.lineChartItem}})],1)]),t._v(" "),e("el-col",{attrs:{xs:24,sm:24,lg:12,xl:12}},[e("div",{staticClass:"chart-wrapper"},[e("p",{staticClass:"line-warp-title"},[t._v("挂号量排名前"+t._s(t.itemsInfo.item.dept.length)+"的科室")]),t._v(" "),e("card-list",{attrs:{dept:t.itemsInfo.item.dept}})],1)])],1)],1)},s=[],n=(e("ac6a"),e("fc39")),r=e("611b"),o={components:{LineChart:n["default"],CardList:r["default"]},props:{itemsInfo:{type:Object,default:null}},data:function(){return{lineChartItem:{expectedData:[],actualData:[]}}},mounted:function(){var t=this;this.$nextTick(function(){t.initLineChart()})},methods:{initLineChart:function(){var t=this;this.itemsInfo.item.eight.forEach(function(a){t.lineChartItem.expectedData.push(a.num),t.lineChartItem.actualData.push(a.date)})}}},c=o,l=(e("7c41"),e("0c7c")),d=Object(l["a"])(c,i,s,!1,null,"35a237f1",null);a["default"]=d.exports},a841:function(t,a,e){"use strict";var i=e("0539"),s=e.n(i);s.a},c199:function(t,a,e){},ec31:function(t,a,e){},f42c:function(t,a,e){"use strict";var i=e("ed08");a["a"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){this.initListener()},activated:function(){this.$_resizeHandler||this.initListener(),this.resize()},beforeDestroy:function(){this.destroyListener()},deactivated:function(){this.destroyListener()},methods:{$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.$_resizeHandler()},initListener:function(){var t=this;this.$_resizeHandler=Object(i["b"])(function(){t.resize()},100),window.addEventListener("resize",this.$_resizeHandler),this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},destroyListener:function(){window.removeEventListener("resize",this.$_resizeHandler),this.$_resizeHandler=null,this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)},resize:function(){var t=this.chart;t&&t.resize()}}}},fc39:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{class:t.className,style:{height:t.height,width:t.width}})},s=[],n=e("313e"),r=e.n(n);e("817d");var o={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"340px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick(function(){t.initChart()})},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=r.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=a.expectedData,i=a.actualData;this.chart.setOption({xAxis:{data:i,boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:40,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",padding:[5,10]},yAxis:{axisTick:{show:!1}},series:[{symbol:"none",itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#3275FB",width:4,shadowColor:"rgba(0,0,0,0.2)",shadowBlur:10,shadowOffsetY:10}}},smooth:!0,type:"line",data:e,animationDuration:2800,animationEasing:"cubicInOut"}]}),window.addEventListener("resize",function(){t.chart.resize()})}}},c=o,l=e("0c7c"),d=Object(l["a"])(c,i,s,!1,null,null,null);a["default"]=d.exports}}]);